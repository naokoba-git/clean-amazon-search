# PM会議議事録 v3（最終版）- フィルタリング機能完全設計

**日時**: 2026年2月1日
**議題**: 転売品・OEM品排除機能の最終設計
**参加者**: 佐藤美咲(UX)、田中健太(技術)、山田隆司(ビジネス)、鈴木理恵(リスク)
**ファシリテーター**: AI議長
**ステータス**: 承認待ち

---

## 1. 課題の最終定義

### ユーザーの課題
> 「Amazonで商品を探すとき、同じような商品で商標だけが変わっている転売屋の商品が大量に表示されるのが嫌。これをなくしたい。」

### 重要な発見
**Prime/FBAフィルターは転売品排除には無効**
- 中華セラーもFBA納品している
- Prime対象でも転売品は大量にある
- URLパラメータベースのフィルターでは解決不可能

### 解決策
**DOM解析による独自判定で転売品を検出・非表示にする**

---

## 2. 転売品/OEM品パターン調査結果

### 調査カテゴリ
- スマホスタンド
- モバイルバッテリー
- ワイヤレスイヤホン
- USB充電器
- LEDライト

### 発見した転売品の特徴

| パターン | 具体例 | 検出可能性 |
|---------|--------|-----------|
| **ランダム英字ブランド** | HXCQYGL, WYSWYG, LYHO | ★★★★★ |
| **意味不明な造語** | Bennbari, Simpolu, Freeberty | ★★★★☆ |
| **JP偽装** | STSEETOP JP, ○○ JP | ★★★★★ |
| **タイトル誇張表現** | 【令和最新版】【業界トップ】 | ★★★★★ |
| **異常に長いタイトル** | 100文字超え、スペック羅列 | ★★★★☆ |
| **価格異常** | 25000mAhバッテリーが2,500円 | ★★★☆☆ |

---

## 3. スコアリング設計（最終版）

### スコア表

| 判定項目 | 条件 | スコア |
|---------|------|--------|
| **ブランド名** | | |
| | ランダム英字（子音のみ4文字以上） | +35 |
| | 大文字のみ6文字以上 | +30 |
| | 末尾にJP/日本 | +20 |
| | ノーブランド/Generic | +25 |
| **タイトル** | | |
| | 【令和最新版】【業界トップ】等の誇張 | +30 |
| | タイトル100文字以上 | +25 |
| | タイトル80文字以上 | +15 |
| **セラー** | | |
| | 海外住所（中国等） | +25 |
| | セラー評価90%未満 | +20 |
| | 新規セラー（6ヶ月未満） | +15 |
| **ホワイトリスト** | | |
| | 信頼ブランドに該当 | **-100**（除外） |

### 判定閾値

| スコア | 判定 | 動作 |
|--------|------|------|
| 0未満 | 信頼 | ✅ 信頼バッジ表示 |
| 0-29 | 安全 | そのまま表示 |
| 30-49 | 注意 | ⚠️ 警告バッジ表示 |
| 50以上 | 危険 | 🚫 非表示 |

---

## 4. 判定パターン詳細

### ブランド名判定

```javascript
// 怪しいブランド名のパターン
const SUSPICIOUS_BRAND_PATTERNS = [
  /^[BCDFGHJKLMNPQRSTVWXYZ]{4,}$/i,  // 子音のみ4文字以上
  /^[A-Z]{6,}$/i,                      // 大文字のみ6文字以上
  /\s*JP$/i,                           // 末尾にJP
  /^[A-Z][a-z]{2,}[A-Z][a-z]+$/,      // 不自然なCamelCase
];

// ノーブランド表記
const NO_BRAND_KEYWORDS = [
  'ノーブランド', 'ノーブランド品', 'Generic', 'Unbranded', 'N/B'
];
```

### タイトル誇張表現

```javascript
const SUSPICIOUS_TITLE_PATTERNS = [
  // 年号系
  '令和最新', '2024最新', '2025最新', '2026最新',
  '最新版', '新型', '新設計',
  // 誇張系
  '業界トップ', '史上最強', '最強', '革新的',
  '進化版', 'アップグレード版', '改良版',
  // スペック羅列系
  /\【[^】]{20,}\】/,  // 20文字以上の【】括弧
];
```

### 信頼ブランドホワイトリスト

```javascript
const TRUSTED_BRANDS = [
  // 日本メーカー
  'Sony', 'SONY', 'Panasonic', 'ELECOM', 'エレコム',
  'BUFFALO', 'バッファロー', 'サンワサプライ', 'SANWA',
  'I-O DATA', 'アイ・オー・データ',

  // グローバル信頼ブランド
  'Anker', 'Belkin', 'Apple', 'Samsung', 'サムスン',
  'JBL', 'Bose', 'Jabra', 'Beats', 'Sennheiser',
  'Logitech', 'ロジクール', 'Microsoft',

  // Amazon
  'Amazonベーシック', 'Amazon Basics', 'Amazon',

  // 信頼できる中華ブランド
  'Xiaomi', 'シャオミ', 'HUAWEI', 'ファーウェイ',
  'SoundPEATS', 'UGREEN', 'Baseus', 'AUKEY',
  'RAVPower', 'cheero', 'チーロ',

  // PC周辺機器
  'ASUS', 'MSI', 'Corsair', 'Razer',
];
```

---

## 5. フィルターレベル（最終版）

| レベル | 名称 | 内容 | 対象ユーザー |
|--------|------|------|-------------|
| 0 | OFF | フィルターなし | 全商品を見たい人 |
| 1 | ライト | 警告表示のみ（非表示なし） | 自分で判断したい人 |
| 2 | **スタンダード** | スコア50以上を非表示 | 一般ユーザー（推奨） |
| 3 | ストリクト | スコア30以上を非表示 | 慎重派 |
| 4 | 最強 | Amazon公式のみ | 超慎重派 |

**デフォルト設定**: スタンダード（レベル2）

---

## 6. UI設計（最終版）

### ポップアップ

```
┌─────────────────────────────────────────┐
│  🛡️ Clean Amazon Search               │
├─────────────────────────────────────────┤
│                                         │
│  フィルター強度                          │
│  OFF ━━●━━━━━━━━━ 最強              │
│       ↑ スタンダード                    │
│                                         │
│  ─────────────────────────────────────  │
│                                         │
│  📊 フィルター効果                       │
│  🚫 非表示: 47件                        │
│  ⚠️ 警告表示: 12件                      │
│  ✅ 信頼商品: 23件                      │
│                                         │
│  ─────────────────────────────────────  │
│                                         │
│  ⚙️ 詳細設定                            │
│  [ホワイトリスト管理]                   │
│  [非表示商品を確認]                     │
│                                         │
└─────────────────────────────────────────┘
```

### 検索結果ページ

```
┌─────────────────────────────────────────┐
│ 🛡️ Clean Amazon Search                 │
│ 47件の怪しい商品を非表示中 [表示する]   │
└─────────────────────────────────────────┘

┌─────┐ Anker PowerCore 10000
│     │ ⭐4.5 (2,345) ¥2,980
│ 📷  │ ✅ 信頼ブランド
└─────┘

┌─────┐ エレコム USB充電器
│     │ ⭐4.3 (892) ¥1,480
│ 📷  │ ✅ 信頼ブランド
└─────┘

┌─────┐ UGREEN 急速充電器          ← グレーゾーン
│     │ ⭐4.2 (567) ¥1,980
│ 📷  │ ⚠️ 要確認（スコア35）
└─────┘
```

### 商品詳細ページ

```
危険判定の場合:
┌─────────────────────────────────────────┐
│ 🚫 この商品は信頼性スコアが低いです     │
│                                         │
│ 検出理由:                               │
│ • ブランド名が怪しい（+35）             │
│ • 【令和最新版】表記（+30）             │
│ • 合計スコア: 65点                      │
│                                         │
│ [詳細を見る] [非表示を解除]             │
└─────────────────────────────────────────┘
```

---

## 7. 実装ロードマップ

### v1.1（今回実装）

| 機能 | 優先度 |
|------|--------|
| ブランド名スコアリング | 🔴 高 |
| タイトル誇張表現検出 | 🔴 高 |
| タイトル長判定 | 🔴 高 |
| 信頼ブランドホワイトリスト | 🔴 高 |
| セラー情報判定（既存強化） | 🟡 中 |
| 非表示機能 | 🔴 高 |
| 統計表示UI | 🔴 高 |
| フィルターレベル切り替え | 🔴 高 |

### v1.2（次回）

| 機能 | 優先度 |
|------|--------|
| 価格異常検出 | 🟡 中 |
| ユーザー定義ホワイトリスト | 🟡 中 |
| ユーザー定義ブラックリスト | 🟡 中 |
| 非表示商品の一覧表示 | 🟡 中 |

### v2.0（将来）

| 機能 | 優先度 |
|------|--------|
| 画像類似度による重複検出 | 🟢 低 |
| サクラチェッカー連携 | 🟢 低 |
| 機械学習による判定精度向上 | 🟢 低 |

---

## 8. Prime/FBAの扱い（最終決定）

| 項目 | 扱い |
|------|------|
| フィルター条件として | **使用しない** |
| スコアリング要素として | **使用しない** |
| 表示情報として | 参考表示（バッジ）のみ |
| 理由 | 転売品もFBA利用しているため無意味 |

---

## 9. 検出例シミュレーション

### 例1: 転売品（非表示にすべき）
```
商品: 【令和最新版】HXCQYGL モバイルバッテリー 大容量 25000mAh...
ブランド: HXCQYGL
タイトル長: 95文字

スコア:
  + ランダム英字ブランド: +35
  + 【令和最新版】: +30
  + タイトル80文字以上: +15
  = 合計 80点 → 🚫 非表示
```

### 例2: 信頼ブランド（表示すべき）
```
商品: Anker PowerCore 10000 (10000mAh モバイルバッテリー)
ブランド: Anker
タイトル長: 48文字

スコア:
  + ホワイトリスト該当: -100
  = 合計 -100点 → ✅ 信頼バッジ
```

### 例3: グレーゾーン（警告表示）
```
商品: Newseego スマホスタンド 折りたたみ式 角度調整可能...
ブランド: Newseego
タイトル長: 72文字

スコア:
  + 意味不明ブランド: +20
  + ホワイトリスト該当なし: 0
  = 合計 20点 → そのまま表示（安全判定）
```

### 例4: 警告レベル
```
商品: 【2025新型】STSEETOP JP ワイヤレスイヤホン Bluetooth5.3...
ブランド: STSEETOP JP
タイトル長: 85文字

スコア:
  + 末尾にJP: +20
  + 【2025新型】: +30
  + タイトル80文字以上: +15
  = 合計 65点 → 🚫 非表示
```

---

## 10. ファイル構成（実装予定）

```
clean-amazon-search/
├── scripts/
│   ├── brand-checker.js      # 【新規】ブランド名判定
│   ├── title-checker.js      # 【新規】タイトル判定
│   ├── score-calculator.js   # 【新規】スコア計算
│   ├── product-filter.js     # 【新規】商品非表示制御
│   ├── seller-checker.js     # 【既存】セラー判定
│   ├── content.js            # 【修正】メイン処理
│   └── ...
├── config/
│   ├── trusted-brands.json   # 【新規】信頼ブランドリスト
│   ├── suspicious-patterns.json # 【新規】怪しいパターン定義
│   └── ...
└── ...
```

---

## 11. 最終承認事項

| 項目 | 決定内容 |
|------|----------|
| **コンセプト** | 転売品・OEM品を排除して本物を見つける |
| **主要判定基準** | ブランド名 + タイトル + セラー情報 |
| **Prime/FBAの扱い** | フィルター条件として使用しない |
| **デフォルト設定** | スタンダード（スコア50以上を非表示） |
| **ホワイトリスト** | 信頼ブランド50件程度を初期搭載 |
| **実装方式** | DOM解析による独自判定 |

---

**会議終了**

*議事録作成: AI議長*
*次のアクション: ユーザー承認後、実装開始*

---

## 変更履歴

| 日付 | バージョン | 変更内容 |
|------|------------|----------|
| 2026-01-31 | v1 | 初版（Amazon公式のみ） |
| 2026-01-31 | v2 | 国内発送+FBA方式に変更 |
| 2026-02-01 | v3 | 転売品・OEM品排除に方針転換 |
| 2026-02-01 | v3最終 | Prime/FBA無効を確認、スコアリング詳細設計 |
